pipeline{
    agent{
        label "maven"
    }
    environment {
        PATH = "/opt/apache-maven-3.9.4/bin:$PATH"
    }
    stages{
        stage("build"){
            steps{
                echo "----build start ---------"
                sh 'mvn clean deploy'
                echo "build end------"
            }
            
        }
        stage("test"){
            steps{
                echo "----------- unit test started ----------"
                sh 'mvn surefire-report:report'
                echo "----------- unit test Complted ----------"
            }
    }
        
}
}